<p-toast></p-toast>
<div class="admin-category">
<p-card header="Order Detail" subheader="edit order status here">
  <p-fieldset legend="Order Details" styleClass="mb-4" [toggleable]="true" *ngIf="order">
   <div class="grid">
     <div class="col-4">
     <h5>Order ID</h5>
     <p>{{order.id}}</p>
     </div>
     <div class="col-4">
      <h5>Order Date</h5>
      <p>{{order.createdAt | date:'mediumDate'}}</p>
     </div>
     <div class="col-4">
      <h5>Total Price</h5>
      <p>{{order.totalPrice | currency}}</p>
     </div>
     <div class="col-4">
      <h5>Order Status</h5>
      <p-dropdown [options]="orderStatus" optionLabel="name" optionValue="id" (onChange)="onStatusChange($event)" ></p-dropdown>
   </div>
   </div>
  </p-fieldset>

  <p-fieldset legend="Order Items" styleClass="mb-4" [toggleable]="true">
    <div class="grid mb-3">
      <div class="col-2">
        Name
      </div>
      <div class="col-2">
        Brand
      </div>
      <div class="col-2">
        Price
      </div>
      <div class="col-2">
        Category
      </div>
      <div class="col-2">
        Quantity
      </div>
      <div class="col-2">
        Subtotal
      </div>
      </div>
      <hr/>
      <div class="grid mb-2 mt-2" *ngFor="let item of order?.orderItems">
        <div class="col-2">
          {{item.product.name}}
        </div>
        <div class="col-2">
          {{item.product.brand}}
        </div>
        <div class="col-2">
          {{item.product.price | currency}}
        </div>
        <div class="col-2">
          {{item.product.category.name}}
        </div>
        <div class="col-2">
          {{item.quantity}}
        </div>
        <div class="col-2">
          {{item.product.price * item.quantity | currency}}
        </div>
    </div>
    <hr/>
    <div class="grid mt-2" style="color: seagreen; font-weight: bolder;">
      <div class="col-2">Total Price</div>

    <div class="col-2">
      {{order.totalPrice | currency}}
    </div>
  </div>
   </p-fieldset>

   <p-fieldset legend="Order Address" styleClass="mb-4" [toggleable]="true">
    <div class="grid">
      <div class="col-4">
        <h5>Order Address</h5>
        {{order.shippingAddress1}}<br/>
        {{order.shippingAddress2}}<br/>
        {{order.city}},
        {{order.zip}}<br/>
        {{order.country}}
      </div>
      <div class="col-4">
        <h5>Customer Info</h5>
        {{order.user?.name}}
      </div>
      <div class="col-4">
        <h5>Contact Info</h5>
        {{order.phone}}
      </div>
    </div>
   </p-fieldset>
</p-card>
</div>
